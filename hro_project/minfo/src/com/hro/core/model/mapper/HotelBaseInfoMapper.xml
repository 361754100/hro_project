<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hro.core.model.mapper.HotelBaseInfoMapper" >
  <resultMap id="BaseResultMap" type="com.hro.core.model.HotelBaseInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="HOTEL_NAME" property="hotelName" jdbcType="VARCHAR" />
    <result column="ADDRESS" property="address" jdbcType="VARCHAR" />
    <result column="INTRODUCTION" property="introduction" jdbcType="VARCHAR" />
    <result column="BD_X" property="bdX" jdbcType="DECIMAL" />
    <result column="BD_Y" property="bdY" jdbcType="DECIMAL" />
    <collection property="picInfos" ofType="com.hro.core.model.PicInfo" resultMap="picInfoResultMap" />
  </resultMap>
  
  <resultMap id="picInfoResultMap" type="com.hro.core.model.PicInfo" >
  	<result column="PIC_ID" property="id" jdbcType="VARCHAR" />
  	<result column="PIC_NAME" property="picName" jdbcType="VARCHAR" />
  	<result column="PHYSICAL_PIC_PATH" property="physicalPicPath" jdbcType="VARCHAR" />
  	<result column="VIRTUAL_PIC_PATH" property="virtualPicPath" jdbcType="VARCHAR" />
  	<result column="PIC_SERVER_ID" property="picServerId" jdbcType="VARCHAR" />
  	<result column="PIC_TYPE" property="picType" jdbcType="INTEGER" />
  	<result column="FK_ID" property="fkId" jdbcType="VARCHAR" />
  </resultMap>
  
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    ID, HOTEL_NAME, ADDRESS, INTRODUCTION, BD_X, BD_Y
  </sql>
  
  <sql id="Page_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    hotelInfo.ID, hotelInfo.HOTEL_NAME, hotelInfo.ADDRESS, hotelInfo.INTRODUCTION, hotelInfo.BD_X, hotelInfo.BD_Y,
    picInfo.ID as PIC_ID, picInfo.PIC_NAME, picInfo.PHYSICAL_PIC_PATH, picInfo.VIRTUAL_PIC_PATH, picInfo.PIC_SERVER_ID,
    picInfo.PIC_TYPE, picInfo.FK_ID
  </sql>
  
  <select id="findHotelInfoPage" resultMap="BaseResultMap" parameterType="com.hro.core.common.util.QueryParams" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    select 
    <include refid="Page_Column_List" />
    from hotel_base_info hotelInfo left join pic_info picInfo on hotelInfo.ID = picInfo.FK_ID 
    <if test="params != null" >
    	where 1=1 
        <if test="params.hotelName != null and params.hotelName != '' " >
        	and HOTEL_NAME like "%"#{params.hotelName}"%"
    	</if>
    </if>
    order by ${orderColumn} ${orderDir} limit #{curRecordNo,jdbcType=INTEGER}, #{endRecordNo,jdbcType=INTEGER}
  </select>
  
  <select id="findHotelInfoTotal" resultType="java.lang.Integer" parameterType="com.hro.core.common.util.QueryParams" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    select count(1) from hotel_base_info hotelInfo 
    <if test="params != null" >
    	where 1=1 
        <if test="params.hotelName != null and params.hotelName != '' " >
        	and HOTEL_NAME like "%"#{params.hotelName}"%"
    	</if>
    </if>
  </select>
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from hotel_base_info
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    delete from hotel_base_info
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.hro.core.model.HotelBaseInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    insert into hotel_base_info (ID, HOTEL_NAME, ADDRESS, 
      INTRODUCTION, BD_X, BD_Y
      )
    values (#{id,jdbcType=VARCHAR}, #{hotelName,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, 
      #{introduction,jdbcType=VARCHAR}, #{bdX,jdbcType=DECIMAL}, #{bdY,jdbcType=DECIMAL}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.hro.core.model.HotelBaseInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    insert into hotel_base_info
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="hotelName != null" >
        HOTEL_NAME,
      </if>
      <if test="address != null" >
        ADDRESS,
      </if>
      <if test="introduction != null" >
        INTRODUCTION,
      </if>
      <if test="bdX != null" >
        BD_X,
      </if>
      <if test="bdY != null" >
        BD_Y,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="hotelName != null" >
        #{hotelName,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="introduction != null" >
        #{introduction,jdbcType=VARCHAR},
      </if>
      <if test="bdX != null" >
        #{bdX,jdbcType=DECIMAL},
      </if>
      <if test="bdY != null" >
        #{bdY,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.hro.core.model.HotelBaseInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    update hotel_base_info
    <set >
      <if test="hotelName != null" >
        HOTEL_NAME = #{hotelName,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        ADDRESS = #{address,jdbcType=VARCHAR},
      </if>
      <if test="introduction != null" >
        INTRODUCTION = #{introduction,jdbcType=VARCHAR},
      </if>
      <if test="bdX != null" >
        BD_X = #{bdX,jdbcType=DECIMAL},
      </if>
      <if test="bdY != null" >
        BD_Y = #{bdY,jdbcType=DECIMAL},
      </if>
    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.hro.core.model.HotelBaseInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 24 17:15:49 CST 2016.
    -->
    update hotel_base_info
    set HOTEL_NAME = #{hotelName,jdbcType=VARCHAR},
      ADDRESS = #{address,jdbcType=VARCHAR},
      INTRODUCTION = #{introduction,jdbcType=VARCHAR},
      BD_X = #{bdX,jdbcType=DECIMAL},
      BD_Y = #{bdY,jdbcType=DECIMAL}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  
  <delete id="deleteByIds" parameterType="List">
  	delete from hotel_base_info where id in
  	<foreach collection="ids" index="index" item="id" open="(" separator="," close=")">   
        #{id}   
    </foreach>
  </delete>
</mapper>